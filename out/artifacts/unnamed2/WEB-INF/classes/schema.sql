create table Director
(
    director_id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name        varchar(100) NOT NULL UNIQUE,
    age         int CHECK ( age > 10 )
);

create table Movie
(
    movie_id           int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    director_id        int          NOT NULL REFERENCES Director (director_id),
    name               varchar(200) NOT NULL,
    year_of_production int CHECK ( year_of_production > 1900 )
);

create table Actor
(
    actor_id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name     varchar(100) NOT NULL UNIQUE,
    age      int CHECK ( age > 0 )
);

create table Actor_Movie
(
    actor_id int REFERENCES Actor (actor_id),
    movie_id int REFERENCES Movie (movie_id),
    PRIMARY KEY (actor_id, movie_id)
);

INSERT INTO Director(name, age)
VALUES ('Quentin Tarantino', 57);
INSERT INTO Director(name, age)
VALUES ('Martin Scorsese', 78);
INSERT INTO Director(name, age)
VALUES ('Guy Ritchie', 52);
INSERT INTO Director(name, age)
VALUES ('Woody Allen', 85);
INSERT INTO Director(name, age)
VALUES ('David Lynch', 74);
INSERT INTO Director(name, age)
VALUES ('Christopher Nolan', 50);

INSERT INTO Movie(director_id, name, year_of_production)
VALUES (1, 'Reservoir Dogs', 1992);
INSERT INTO Movie(director_id, name, year_of_production)
VALUES (1, 'Pulp Fiction', 1994);
INSERT INTO Movie(director_id, name, year_of_production)
VALUES (1, 'The Hateful Eight', 2015);
INSERT INTO Movie(director_id, name, year_of_production)
VALUES (1, 'Once Upon a Time in Hollywood', 2019);
INSERT INTO Movie(director_id, name, year_of_production)
VALUES (2, 'Taxi Driver', 1976);
INSERT INTO Movie(director_id, name, year_of_production)
VALUES (2, 'Goodfellas', 1990);
INSERT INTO Movie(director_id, name, year_of_production)
VALUES (2, 'The Wolf of Wall Street', 2013);
INSERT INTO Movie(director_id, name, year_of_production)
VALUES (3, 'Lock, Stock and Two Smoking Barrels', 1998);
INSERT INTO Movie(director_id, name, year_of_production)
VALUES (3, 'Snatch', 2000);
INSERT INTO Movie(director_id, name, year_of_production)
VALUES (4, 'Midnight in Paris', 2011);
INSERT INTO Movie(director_id, name, year_of_production)
VALUES (6, 'Inception', 2010);

INSERT INTO Actor(name, age)
VALUES ('Harvey Keitel', 81);
INSERT INTO Actor(name, age)
VALUES ('Robert De Niro', 77);
INSERT INTO Actor(name, age)
VALUES ('Leonardo DiCaprio', 46);
INSERT INTO Actor(name, age)
VALUES ('Jason Statham', 53);
INSERT INTO Actor(name, age)
VALUES ('Joe Pesci', 77);
INSERT INTO Actor(name, age)
VALUES ('Samuel L. Jackson', 72);

INSERT INTO Actor_Movie
VALUES (1, 1);
INSERT INTO Actor_Movie
VALUES (1, 2);
INSERT INTO Actor_Movie
VALUES (2, 5);
INSERT INTO Actor_Movie
VALUES (2, 6);
INSERT INTO Actor_Movie
VALUES (3, 4);
INSERT INTO Actor_Movie
VALUES (3, 7);
INSERT INTO Actor_Movie
VALUES (3, 11);
INSERT INTO Actor_Movie
VALUES (4, 8);
INSERT INTO Actor_Movie
VALUES (4, 9);
INSERT INTO Actor_Movie
VALUES (5, 6);
INSERT INTO Actor_Movie
VALUES (6, 2);
INSERT INTO Actor_Movie
VALUES (6, 3);
